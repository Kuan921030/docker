FROM osrf/ros:melodic-desktop-bionic
RUN rm /etc/apt/apt.conf.d/docker-clean
RUN apt-get update && apt-get install -y lsb-release && apt-get clean all
RUN apt-get install -y ros-noetic-ros-base \
   bash-completion \
   iputils-ping \
   net-tools \
   vim \
   byobu \
   git \
   feh
RUN useradd --create-home --shell /bin/bash ros
RUN usermod -aG sudo ros
RUN echo 'uuv\nuuv' | passwd
RUN echo 'uuv\nuuv' | passwd ros
RUN cp /etc/skel/.bashrc /home/ros
RUN rosdep update
USER ros
WORKDIR /home/ros
RUN echo 'source /opt/ros/melodic/setup.bash' >> ~/.bashrc
